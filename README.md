# 🏪 Store CRUD

Учебный проект — интернет-магазин на чистом PHP с CRUD-операциями для товаров.

## 🛠️ Технологии

- **PHP 8** — бэкенд
- **MySQL 8** — база данных
- **Nginx** — веб-сервер
- **Docker** — контейнеризация

## 📦 Возможности

- ✅ CRUD для товаров (создание, просмотр, редактирование, удаление)
- ✅ Регистрация и авторизация пользователей
- ✅ Разделение ролей (admin / user)
- ✅ Поиск товаров по названию и описанию
- ✅ Валидация форм
- ✅ Защита от XSS (`htmlspecialchars`)
- ✅ Хеширование паролей (`password_hash` / `password_verify`)

## 🏗️ Структура проекта

```
store_crud/
├── config/
│   └── database.php           # Подключение к MySQL через PDO
├── docker/
│   ├── mysql/my.cnf           # Конфиг MySQL (кодировка utf8mb4)
│   ├── nginx/default.conf     # Конфиг Nginx
│   └── php/Dockerfile         # Сборка PHP-контейнера
├── public/
│   └── index.php              # Точка входа
├── sql/
│   └── create_table.sql       # Создание таблиц и тестовые данные
├── src/
│   ├── Auth.php               # Работа с сессиями и ролями
│   ├── AuthController.php     # Контроллер авторизации
│   ├── Product.php            # Модель товара
│   ├── ProductController.php  # Контроллер товаров
│   ├── Router.php             # Маршрутизация
│   ├── User.php               # Модель пользователя
│   └── Validator.php          # Валидация данных
├── templates/
│   ├── header.php             # Шапка сайта + CSS
│   ├── footer.php             # Подвал сайта
│   ├── list.php               # Список товаров + поиск
│   ├── show.php               # Просмотр товара
│   ├── create.php             # Форма создания товара
│   ├── edit.php               # Форма редактирования товара
│   ├── login.php              # Форма входа
│   └── register.php           # Форма регистрации
└── docker-compose.yml         # Docker-конфигурация
```

## 🚀 Запуск

```bash
# 1. Клонировать репозиторий
git clone https://github.com/Dmitry070/store_crud.git
cd store_crud

# 2. Запустить контейнеры
docker-compose up -d

# 3. Открыть в браузере
http://localhost:8080
```

## 👤 Тестовый аккаунт

| Роль | Логин | Пароль |
|------|-------|--------|
| Админ | `admin` | `admin123` |

## 🔐 Уровни доступа

| Действие | Гость | Пользователь | Админ |
|----------|:-----:|:------------:|:-----:|
| Просмотр товаров | ✅ | ✅ | ✅ |
| Поиск товаров | ✅ | ✅ | ✅ |
| Создание товара | ❌ | ✅ | ✅ |
| Редактирование | ❌ | ✅ | ✅ |
| Удаление товара | ❌ | ❌ | ✅ |

